# Alembic Basics

Alembic is a lightweight database migration tool for use with SQLAlchemy. It allows you to manage changes to your database schema over time, tracking changes via migration scripts.

## 🚀 Basic Commands

### Create a new migration script

```bash
alembic revision -m "Your message"
```

### Auto-generate migration from model changes

```bash
alembic revision --autogenerate -m "Your message"
```

> Note: Ensure your models reflect the latest state before running this.

### Apply migrations (upgrade)

```bash
alembic upgrade head
```

You can also target a specific version:

```bash
alembic upgrade <revision_id>
```

### Revert migrations (downgrade)

```bash
alembic downgrade -1
```

Or to a specific revision:

```bash
alembic downgrade <revision_id>
```

### Mark the current database state with the latest revision (without running migrations)

```bash
alembic stamp head
```

This is useful when you're starting with an existing database that matches your models but doesn't yet have Alembic version tracking.

### View current migration version

```bash
alembic current
```

### Show the full migration history

```bash
alembic history
```

---

## 📁 Directory Structure

After initialization, you'll have:

```
your_project/
️
├── alembic.ini
├── alembic/
│   ├── env.py
│   ├── script.py.mako
│   └── versions/
│       └── <revision>.py
```

---

## 🧠 Tips

- Always **review autogenerated migrations** to ensure accuracy.
- Maintain **clean, descriptive messages** for each revision.
- Use version control to track changes to migration scripts.
